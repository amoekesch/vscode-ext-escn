{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Eyelit Scenario Script",
    "foldingStartMarker": "(^# ##)|(^#)",
    "foldingStopMarker": "(^# ##$)|(^\\s*$)",
    "patterns": [
        {
            "include": "#functions"
        },
        {
            "include": "#keywords"
        },
        {
            "include": "#comments"
        }
    ],
    "repository": {
        "functions": {
            "patterns": [
                {
                    "name": "support.function.common.escn",
                    "match": "\\b(LOG|TO_NUMBER|TO_INT|TO_DATE|TO_STRING|TO_JSON|JAXB|GET|SET|PUT|ADD|NEW|CONCAT|COALESCE|NESTED_LIST|XPATH|SPLIT_STRING|REPLACE_STRING|TO_NAME_VALUE|PEEK|POP|PUSH|DELAY|DIV|MOD|INCR|CURRENT_POSITION|SIZE|LENGTH|SORT|ADD_ALL)\\b(\\()(.+)(\\))\\b",
                    "captures": {
                        "1": {
                            "name": "support.function.common.escn"
                        },
                        "2": {
                            "name": "support.function.common.escn"
                        },
                        "3": {
                            "name": "support.variable.common.escn"
                        },
                        "4": {
                            "name": "support.function.common.escn"
                        }
                    }
                },
                {
                    "name": "support.function.ifnull.escn",
                    "match": "\\b(IF_NULL)(\\()([^\\~]+)(\\~)([^\\~\\)]+)(\\))\\b",
                    "captures": {
                        "1": {
                            "name": "support.function.ifnull.escn"
                        },
                        "2": {
                            "name": "support.function.ifnull.escn"
                        },
                        "3": {
                            "name": "support.variable.ifnull.escn"
                        },
                        "4": {
                            "name": "keyword.control.ifnull.escn"
                        },
                        "5": {
                            "name": "support.variable.ifnull.escn"
                        },
                        "6": {
                            "name": "support.function.ifnull.escn"
                        }
                    }
                },
                {
                    "name": "support.function.msg.escn",
                    "match": "\\b(MSG)\\b(\\.)\\b(\\S+)\\b(\\()(.*?)(\\))\\b",
                    "captures": {
                        "1": {
                            "name": "keyword.control.msg.escn"
                        },
                        "2": {
                            "name": "keyword.operator.msg.escn"
                        },
                        "3": {
                            "name": "support.variable.msg.escn"
                        },
                        "4": {
                            "name": "support.variable.msg.escn"
                        },
                        "5": {
                            "name": "support.variable.msg.escn"
                        },
                        "6": {
                            "name": "support.variable.msg.escn"
                        }
                    }
                },
                {
                    "name": "support.function.log.escn",
                    "match": "\\b(LOG)\\b(\\()(.+)(\\))\\b",
                    "captures": {
                        "1": {
                            "name": "support.function.log.escn"
                        },
                        "2": {
                            "name": "support.function.log.escn"
                        },
                        "3": {
                            "name": "support.variable.ifnull.escn"
                        },
                        "4": {
                            "name": "support.function.log.escn"
                        }
                    }
                }
            ]
        },
        "keywords": {
            "patterns": [{
                    "name": "keyword.other.goto.escn",
                    "match": "\\b(goto|GOTO)\\b"
                },
                {
                    "name": "keyword.control.context.escn",
                    "match": "\\b(CONTEXT|REQUEST|EVT|REQ|DC|TASK_DC|SPCCHART|TASK_SPC|LOT|OBJ)\\b"
                },
                {
                    "name": "keyword.control.result.escn",
                    "match": "\\b(RES|RESULT)\\b"
                },
                {
                    "name": "keyword.control.loop.escn",
                    "match": "\\b(SCENARIO_LOOP_ELEMENT|SCENARIO_LOOP_CONTROL|SCENARIO_LOOP_ELEMENT|SCENARIO_LOOP_MAX)\\b"
                },
                {
                    "name": "keyword.other.blockdescriptor.escn",
                    "match": "([\\w]+\\:)"
                },
                {
                    "name": "keyword.control.package.escn",
                    "match": "\\b(de|com|net|org|java|javax)\\b\\.+(\\w+\\.?){1,}"
                },
                {
                    "name": "variable.other.keyword.escn",
                    "match": "\\b(EMPTY_VECTOR|EMPTY_STRING|NEWLINE|COMMA|SPACE|null)\\b"
                },
                {
                    "name": "keyword.operator.escn",
                    "match": "[\\^,.=~]()"
                },
                {
                    "name": "constant.numeric.escn",
                    "match": "[+-]?([0-9]*[.])?[0-9]+"
                },
                {
                    "name": "support.function.nocache.escn",
                    "match": "(\\/S)"
                },
                {
                    "name": "keyword.control.parameter.escn",
                    "match": "\\b(\\/P|\\/TP|\\/ELE)\\b"
                },
                {
                    "name": "keyword.control.container.escn",
                    "match": " \\b(Action|Action_Category|ActionHub|ActionRequestContainer|ActionRequestTypeContainer|ActionType|Activity|Agent|AR_Status|ArchivePurge|ArchiveRun|Area|Attribute|Basket|Bom|BOMCategory|Calendar|CAP|CAPA|Capa_Category|Capa_Type|Case|CaseList|Cassette|Cassette_Category|CassetteState|CassetteType|Category_Type|ChildConsumableUnit|Condition|Condition_Category|Configuration|Consumable|ConsumableCategory|ConsumableUnit|Context|CPAR_Task|CreateDedicationCode|CreateInhibCode|Criteria|Criteria_Category|Customer|DatabaseColumn|DatabaseTable|DatabaseView|DataSpecification|DecisionHub|DefectCode|DefectCode_Category|Department|Device|Device_Category|Device_Category_Group|DisableDedicationCode|DisableInhibCode|DispatchParameter|DispatchRule|DispatchRuleCategory|DispatchRuleGroup|DocBlobCategory|DocumentBlob|EmploymentStatus|EnableDedicationCode|EnableInhibCode|EncapsulatedEvent|EncapsulatedEventCategory|EncapsulatedEventParameter|EventRedirect|Form|Form_Category|Form_Template|Form_Value|FutureComment|FutureHold|FutureSkipStep|GeneralResourceState|GeneralResourceSubState|Group|HoldCode|ImageMap|ImageMapCategory|Inhibition|Job|JobSchedule|Kpi|KPI_Alert|KPI_Group|LMSRule|Loop|Message|MessageCategory|MfdUnit|MfgStage|MfgStage|MfgStageCategory|ObjectType|Operation|Operation_Category|OperationType|Printer|Product|Product_Category|ProductType|Profile|QPAR_Status|Query|QueryCategory|RDA|Recipe|RecipeCategory|RecipeParameter|RecipeTemplate|RecipeTemplateCategory|ReleaseCode|Report|ReportCategory|Request|Reservation|ResolutionCode|ResolutionCode_Category|Resource_Capability|ResourcePriority|ResourceState|ResourceSubState|Reticle|Reticle_Category|ReticlePod|ReticlePodCategory|ReworkCode|RunValue|SamplingPlan|Scenario|ScenarioCategory|ScrapCode|Shift|SignatureHub|SignatureState|Site|SparePart|SparePartCategory|SPC|SPCAnnotation|SPCCategory|SPCFilter|SplitCode|Step|Step_Category|SubArea|Subject|SubRecipe|SubRecipeCategory|Supplier|SupplierCategory|SWR|SWRSetLotStructDef|SWRStepStructure|Task|TaskOperation|ToolAlarm|ToolAlarmCategory|ToolRelation|ToolRunDataset|ToolTransition|Training_Category|TrainingDocument|TrainingDocumentState|TrainingReviewSchedule|TrainingSchedule|TrainingState|Transaction|TransService|UIEvent|UIEventCategory|UIFilter|UISorter|UITableDescriptor|UnscrapCode|User|User_Category|UserEmploymentStatus|UserSection|UserShift|ValueSpec|Variable|WIPCategory|WIPState|WIPType|Workflow|Workflow_Category|WorkOrder|WorkOrderCategory|WorkOrderElement)\\b"
                },
                {
                    "name": "constant.character.dollar.escn",
                    "match": "\\$"
                }
            ]
        },
        "comments": {
            "patterns": [
                {
                    "name": "comment.line.hash.escn",
                    "match": "(#.+)"
                }
            ]
        }
    },
    "scopeName": "source.eyelit.scenario.escn"
}
